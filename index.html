<!DOCTYPE html>  
<html lang="zh-CN">  
<head>  
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
    <title>ä¸€å®šè¦æ‰“å¼€çœ‹å“¦</title>  
    <style>  
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }  
        body { margin: 0; padding: 0; width: 100%; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; background: linear-gradient(to bottom, #ff9a9e, #fecfef); font-family: 'PingFang SC', sans-serif; overflow: hidden; }  
          
        /* --- æ ¸å¿ƒï¼šå¹³ç§»è£‚å¼€çˆ±å¿ƒ --- */  
        .heart-wrapper {  
            position: relative;  
            width: 100px;  
            height: 90px;  
            margin-bottom: 50px;  
            /* æ•´ä½“å‘¼å¸æ•ˆæœ */  
            animation: pulse 0.8s infinite alternate;  
        }  
  
        /* å·¦å³åŠå¿ƒçš„å…±åŒå®¹å™¨ */  
        .heart-side {  
            position: absolute;  
            top: 0;  
            width: 50px; /* å®½åº¦ä¸€åŠ */  
            height: 90px;  
            overflow: hidden; /* å…³é”®ï¼šåªæ˜¾ç¤ºä¸€åŠ */  
            transition: transform 0.3s ease;  
        }  
  
        .left-side {  
            left: 0;  
        }  
  
        .right-side {  
            left: 50px;  
        }  
  
        /* æ”¾åœ¨å®¹å™¨é‡Œçš„å®Œæ•´çˆ±å¿ƒ */  
        .full-heart {  
            position: absolute;  
            width: 100px;  
            height: 90px;  
        }  
  
        .full-heart::before,  
        .full-heart::after {  
            content: "";  
            position: absolute;  
            top: 0;  
            width: 50px;  
            height: 80px;  
            background: #ff4d6d;  
            border-radius: 50px 50px 0 0;  
        }  
  
        .full-heart::before {  
            left: 50px;  
            transform: rotate(-45deg);  
            transform-origin: 0 100%;  
        }  
  
        .full-heart::after {  
            left: 0;  
            transform: rotate(45deg);  
            transform-origin: 100% 100%;  
        }  
  
        /* è°ƒæ•´å³ä¾§å®¹å™¨é‡Œçš„çˆ±å¿ƒä½ç½®ï¼Œä½¿å…¶éœ²å‡ºçš„è¿˜æ˜¯åŒä¸€é¢—å¿ƒçš„å³åŠéƒ¨åˆ† */  
        .right-side .full-heart {  
            left: -50px;  
        }  
  
        /* è£‚å¼€æ—¶ä¸­é—´çš„é‚£æ¡é”¯é½¿çº¿ï¼ˆå¯é€‰ï¼Œå¢åŠ ç ´ç¢æ„Ÿï¼‰ */  
        .crack-line {  
            position: absolute;  
            left: 50%;  
            top: 10%;  
            width: 2px;  
            height: 80%;  
            background: rgba(255,255,255,0.5);  
            transform: translateX(-50%);  
            opacity: 0;  
            z-index: 5;  
            transition: opacity 0.3s;  
        }  
  
        @keyframes pulse {  
            to { transform: scale(1.1); }  
        }  
  
        /* --- åŸºç¡€ UI --- */  
        .container { text-align: center; padding: 0 20px; min-height: 100px; z-index: 10; }  
        #main-text { font-size: 1.2rem; color: #fff; line-height: 1.6; text-shadow: 1px 1px 4px rgba(0,0,0,0.1); font-weight: bold; }  
        .btn-group { position: relative; width: 100%; height: 150px; margin-top: 20px; display: flex; justify-content: center; align-items: center; gap: 30px; z-index: 10; }  
        .btn { padding: 12px 35px; font-size: 1.1rem; border: none; border-radius: 30px; cursor: pointer; font-weight: bold; transition: all 0.2s; }  
        #yes-btn { background-color: #ff4d6d; color: white; box-shadow: 0 5px 15px rgba(255, 77, 109, 0.3); }  
        #no-btn { background-color: #fff; color: #ff4d6d; position: relative; }  
        .wechat-btn { margin-top: 20px; background-color: #07c160; color: white; border: none; padding: 12px 25px; border-radius: 20px; font-size: 1rem; cursor: pointer; display: flex; align-items: center; gap: 8px; }  
        .floating-heart { position: absolute; color: rgba(255, 255, 255, 0.5); pointer-events: none; animation: fly linear forwards; }  
        @keyframes fly { to { transform: translateY(-100vh) rotate(360deg); opacity: 0; } }  
    </style>  
</head>  
<body>  
  
    <div class="heart-wrapper" id="heart-parent">  
        <div class="crack-line" id="crack"></div>  
        <!-- å·¦åŠå¿ƒ -->  
        <div class="heart-side left-side" id="l-side">  
            <div class="full-heart"></div>  
        </div>  
        <!-- å³åŠå¿ƒ -->  
        <div class="heart-side right-side" id="r-side">  
            <div class="full-heart"></div>  
        </div>  
    </div>  
  
    <div class="container">  
        <div id="main-text">æˆ‘å–œæ¬¢ä½ å¾ˆä¹…äº†ï¼Œä½ æ„¿æ„åšæˆ‘å¥³æœ‹å‹å—ï¼Ÿ</div>  
    </div>  
  
    <div class="btn-group">  
        <button id="yes-btn" class="btn">å¥½å‘€</button>  
        <button id="no-btn" class="btn">ä¸è¦</button>  
    </div>  
  
    <script>  
        const phrases = ["ä¸è¦å˜›ğŸ¥º", "å·¥èµ„å¡ä¸Šäº¤ï¼ğŸ’°", "æˆ‘ä¼šä¸€ç›´é™ªç€ä½ âœ¨", "åšé¥­æˆ‘å…¨åŒ…ï¼ğŸ³", "ä½ æ˜¯ç‚¹é”™äº†å§ï¼Ÿâ¤ï¸", "å¿ƒè¦ç¢äº†...", "çœŸçš„è£‚å¼€äº†ğŸ˜­", "ğŸ’” çœŸçš„ç¢äº†", "æ±‚æ±‚ä½ äº†å˜›â¤ï¸"];  
        let phraseIndex = 0;  
        let crackLevel = 0;  
  
        const mainText = document.getElementById('main-text');  
        const noBtn = document.getElementById('no-btn');  
        const yesBtn = document.getElementById('yes-btn');  
        const lSide = document.getElementById('l-side');  
        const rSide = document.getElementById('r-side');  
        const crackLine = document.getElementById('crack');  
        const heartBox = document.getElementById('heart-parent');  
  
        function handleNo() {  
            // 1. åˆ‡æ¢æ–‡å­—  
            mainText.innerText = phrases[phraseIndex];  
            phraseIndex = (phraseIndex + 1) % phrases.length;  
  
            // 2. æŒ‰é’®é—ªé¿  
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);  
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);  
            noBtn.style.position = 'fixed';  
            noBtn.style.left = x + 'px';  
            noBtn.style.top = y + 'px';  
  
            // 3. æ°´å¹³è£‚å¼€é€»è¾‘  
            crackLevel++;  
            const moveDist = crackLevel * 12; // æ¯æ¬¡å¹³ç§» 12px  
            lSide.style.transform = `translateX(-${moveDist}px)`;  
            rSide.style.transform = `translateX(${moveDist}px)`;  
              
            // æ˜¾ç¤ºè£‚ç¼çº¿å¹¶è®©é¢œè‰²å˜æ·¡  
            crackLine.style.opacity = crackLevel * 0.2;  
            const br = 100 - (crackLevel * 15);  
            lSide.style.filter = `brightness(${br}%) grayscale(${crackLevel * 20}%)`;  
            rSide.style.filter = `brightness(${br}%) grayscale(${crackLevel * 20}%)`;  
        
            const currentScale = parseFloat(yesBtn.style.transform.replace('scale(', '')) || 1;  
            yesBtn.style.transform = `scale(${currentScale + 0.12})`;  
            // è£‚å¼€ååœæ­¢å‘¼å¸åŠ¨ç”»ï¼Œæ˜¾å¾—æ­»å¯‚  
            if(crackLevel > 1) heartBox.style.animation = 'none';  
        }  
  
        noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); handleNo(); });  
        noBtn.addEventListener('click', handleNo);  
  
        yesBtn.addEventListener('click', () => {  
            const replyText = "æˆ‘ä¹Ÿå–œæ¬¢ä½ ï¼Œæˆ‘ä»¬åœ¨ä¸€èµ·å§ï¼â¤ï¸";  
            copyToClipboard(replyText);  
  
            document.body.innerHTML = `  
                <div style="display:flex; flex-direction:column; align-items:center; justify-content:center; height:100vh; text-align:center; padding: 20px;">  
                    <div class="heart-wrapper" style="animation: pulse 0.4s infinite alternate;">  
                        <div class="heart-side left-side" style="transform: translateX(0); filter: brightness(100%);">  
                            <div class="full-heart"></div>  
                        </div>  
                        <div class="heart-side right-side" style="transform: translateX(0); filter: brightness(100%);">  
                            <div class="full-heart"></div>  
                        </div>  
                    </div>  
                    <h1 style="color:#fff;">å¤ªæ£’å•¦ï¼â¤ï¸â¤ï¸â¤ï¸</h1>  
                    <p style="color:#fff;">å›å¤è¯­å·²å¤åˆ¶ï¼š<br>"${replyText}"</p>  
                    <button class="wechat-btn" onclick="openWechat()">å»å¾®ä¿¡å‘Šè¯‰ä»–</button>  
                </div>  
            `;  
            setInterval(createFloatingHeart, 100);  
        });  
  
        function copyToClipboard(text) {  
            const textarea = document.createElement("textarea");  
            textarea.value = text;  
            document.body.appendChild(textarea);  
            textarea.select();  
            document.execCommand("copy");  
            document.body.removeChild(textarea);  
        }  
  
        function openWechat() {  
            window.location.href = "weixin://";  
            setTimeout(() => { alert("å›å¤è¯­å·²å¤åˆ¶ï¼Œè¯·å»å¾®ä¿¡ç²˜è´´å‘é€å“¦ï¼"); }, 500);  
        }  
  
        function createFloatingHeart() {  
            const h = document.createElement('div');  
            h.classList.add('floating-heart');  
            h.innerHTML = 'â¤ï¸';  
            h.style.left = Math.random() * 100 + 'vw';  
            h.style.top = '100vh';  
            h.style.fontSize = (Math.random() * 20 + 15) + 'px';  
            h.style.animationDuration = (Math.random() * 3 + 2) + 's';  
            document.body.appendChild(h);  
            setTimeout(() => h.remove(), 5000);  
        }  
        window.onload = () => { setInterval(createFloatingHeart, 600); };  
    </script>  
</body>  
</html>  
